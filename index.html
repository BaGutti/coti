<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cotización - Biblioteca Virtual | Análisis de Costos</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        background: linear-gradient(135deg, #ff9f9f 0%, #764ba2 100%);
        min-height: 100vh;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
      }

      .header {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        text-align: center;
      }

      .header h1 {
        color: #2c3e50;
        font-size: 2.5rem;
        margin-bottom: 10px;
        font-weight: 700;
      }

      .header p {
        color: #7f8c8d;
        font-size: 1.2rem;
        margin-bottom: 20px;
      }

      .summary-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .card {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
      }

      .card h3 {
        color: #2c3e50;
        font-size: 1.1rem;
        margin-bottom: 10px;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .card .value {
        font-size: 2rem;
        font-weight: 700;
        color: #27ae60;
        margin-bottom: 5px;
      }

      .card .label {
        color: #7f8c8d;
        font-size: 0.9rem;
      }

      .chart-section {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
        gap: 30px;
        margin-bottom: 30px;
      }

      .chart-container {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
      }

      .chart-container h2 {
        color: #2c3e50;
        margin-bottom: 20px;
        font-size: 1.5rem;
        text-align: center;
      }

      .chart-wrapper {
        position: relative;
        height: 400px;
        margin-bottom: 20px;
      }

      .table-section {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
      }

      .table-section h2 {
        color: #2c3e50;
        margin-bottom: 20px;
        font-size: 1.5rem;
        text-align: center;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
        background: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
      }

      th,
      td {
        padding: 15px;
        text-align: left;
        border-bottom: 1px solid #ecf0f1;
      }

      th {
        background: #34495e;
        color: white;
        font-weight: 600;
      }

      tr:hover {
        background: #f8f9fa;
      }

      .timeline {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
      }

      .timeline h2 {
        color: #2c3e50;
        margin-bottom: 20px;
        font-size: 1.5rem;
        text-align: center;
      }

      .timeline-item {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
        padding: 15px;
        background: white;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      }

      .timeline-month {
        background: #3498db;
        color: white;
        padding: 10px 15px;
        border-radius: 25px;
        font-weight: 600;
        min-width: 80px;
        text-align: center;
        margin-right: 20px;
      }

      .timeline-content {
        flex: 1;
      }

      .timeline-title {
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 5px;
      }

      .timeline-desc {
        color: #7f8c8d;
        font-size: 0.9rem;
      }

      .footer {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        text-align: center;
      }

      .footer h3 {
        color: #2c3e50;
        margin-bottom: 10px;
      }

      .footer p {
        color: #7f8c8d;
      }

      @media (max-width: 768px) {
        .header h1 {
          font-size: 2rem;
        }

        .chart-section {
          grid-template-columns: 1fr;
        }

        .chart-container {
          min-width: unset;
        }

        .chart-wrapper {
          height: 300px;
        }

        .timeline-item {
          flex-direction: column;
          text-align: center;
        }

        .timeline-month {
          margin-right: 0;
          margin-bottom: 10px;
        }

        table {
          font-size: 0.8rem;
        }

        th,
        td {
          padding: 10px 8px;
        }

        /* Responsive para tablas detalladas */
        .table-section div[style*="grid-template-columns"] {
          grid-template-columns: 1fr !important;
          gap: 15px !important;
        }

        .table-section h3 {
          font-size: 1.1rem !important;
          text-align: center;
        }
      }

      @media (max-width: 480px) {
        .container {
          padding: 10px;
        }

        .header,
        .card,
        .chart-container,
        .table-section,
        .timeline,
        .footer {
          padding: 15px;
        }

        .header h1 {
          font-size: 1.5rem;
        }

        .card .value {
          font-size: 1.5rem;
        }

        /* Tablas detalladas en móvil */
        .table-section table {
          font-size: 0.7rem;
        }

        .table-section th,
        .table-section td {
          padding: 6px 4px;
        }

        .table-section h3 {
          font-size: 1rem !important;
          margin-bottom: 10px !important;
        }

        /* Ocultar algunas columnas en móvil muy pequeño */
        .table-section table th:nth-child(3),
        .table-section table td:nth-child(3) {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <div class="header">
        <h1>📚 Biblioteca Virtual</h1>
        <p>
          Análisis Completo de Costos
          <!-- y Cronograma de Desarrollo -->
        </p>
        <!-- <div
          style="
            display: inline-block;
            background: #27ae60;
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-weight: 600;
          "
        >
          Proyecto: 7 meses | Presupuesto: $30,035,914 COP
        </div> -->
      </div>

      <!-- Resumen General de Costos -->
      <div class="table-section">
        <h2>💼 Resumen General de Costos</h2>
        <table>
          <thead>
            <tr>
              <th>Módulo</th>
              <th>Total (COP)</th>
              <th>% del Proyecto</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Frontend</strong></td>
              <td>$11,340,000</td>
              <td>38%</td>
            </tr>
            <tr>
              <td><strong>Backend</strong></td>
              <td>$10,000,000</td>
              <td>33%</td>
            </tr>
            <tr>
              <td><strong>Base de Datos</strong></td>
              <td>$3,150,000</td>
              <td>11%</td>
            </tr>
            <tr>
              <td><strong>Testing & QA</strong></td>
              <td>$3,000,000</td>
              <td>10%</td>
            </tr>
            <tr>
              <td><strong>Raspberry Pi</strong></td>
              <td>$1,900,000</td>
              <td>6%</td>
            </tr>
            <tr>
              <td><strong>Kit Hardware (Con el router Opcional)</strong></td>
              <td>$645,914</td>
              <td>2%</td>
            </tr>
            <tr
              style="
                background: #2c3e50;
                color: white;
                font-weight: bold;
                font-size: 1.1rem;
              "
            >
              <td><strong>TOTAL PROYECTO</strong></td>
              <td><strong>$30,035,914</strong></td>
              <td><strong>100%</strong></td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Summary Cards -->
      <div class="summary-cards">
        <div class="card">
          <h3>Presupuesto Total</h3>
          <div class="value">$30.0M</div>
          <div class="label">COP (Pesos Colombianos)</div>
        </div>
        <div class="card">
          <h3>Duración</h3>
          <div class="value">6-8</div>
          <div class="label">Meses de Desarrollo</div>
        </div>
        <div class="card">
          <h3>Módulos</h3>
          <div class="value">6</div>
          <div class="label">Componentes Principales</div>
        </div>
        <div class="card">
          <h3>Horas Desarrollo</h3>
          <div class="value">780h+</div>
          <div class="label">Total de Horas</div>
        </div>
      </div>

      <!-- Charts Section -->
      <div class="chart-section">
        <!-- Distribución de Costos -->
        <div class="chart-container">
          <h2>💰 Distribución de Costos por Módulo</h2>
          <div class="chart-wrapper">
            <canvas id="costChart"></canvas>
          </div>
        </div>

        <!-- Horas por Módulo -->
        <div class="chart-container">
          <h2>⏱️ Horas de Desarrollo por Módulo</h2>
          <div class="chart-wrapper">
            <canvas id="hoursChart"></canvas>
          </div>
        </div>
      </div>

      <!-- Comparación Costos vs Horas -->
      <div class="chart-container">
        <h2>📊 Análisis: Costos vs Horas de Desarrollo</h2>
        <div class="chart-wrapper">
          <canvas id="comparisonChart"></canvas>
        </div>
      </div>

      <!-- Desglose Detallado por Módulos -->
      <div class="table-section">
        <h2>📋 Desglose Detallado por Módulos</h2>

        <!-- Frontend Detalle -->
        <div style="margin-bottom: 40px">
          <h3 style="color: #3498db; margin-bottom: 15px; font-size: 1.3rem">
            🎨 Frontend Development (40%)
          </h3>
          <div
            style="
              display: grid;
              grid-template-columns: 1fr 400px;
              gap: 20px;
              align-items: start;
            "
          >
            <table style="margin-bottom: 0">
              <thead>
                <tr>
                  <th>Componente Frontend</th>
                  <th>Subtotal (COP)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Interfaz principal biblioteca</td>
                  <td>$4,200,000</td>
                </tr>
                <tr>
                  <td>Sistema multiidioma</td>
                  <td>$2,800,000</td>
                </tr>
                <tr>
                  <td>Responsive design</td>
                  <td>$2,100,000</td>
                </tr>
                <tr>
                  <td>Módulo traductor señas</td>
                  <td>$1,400,000</td>
                </tr>
                <tr>
                  <td>Plataforma aprendizaje</td>
                  <td>$840,000</td>
                </tr>
                <tr
                  style="background: #3498db; color: white; font-weight: bold"
                >
                  <td><strong>TOTAL FRONTEND</strong></td>
                  <td><strong>$11,340,000</strong></td>
                </tr>
              </tbody>
            </table>
            <div
              style="
                background: white;
                border-radius: 10px;
                padding: 15px;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
              "
            >
              <canvas
                id="frontendChart"
                style="height: 250px !important"
              ></canvas>
            </div>
          </div>
        </div>

        <!-- Backend Detalle -->
        <div style="margin-bottom: 40px">
          <h3 style="color: #e74c3c; margin-bottom: 15px; font-size: 1.3rem">
            ⚙️ Backend Development (35%)
          </h3>
          <div
            style="
              display: grid;
              grid-template-columns: 1fr 400px;
              gap: 20px;
              align-items: start;
            "
          >
            <table style="margin-bottom: 0">
              <thead>
                <tr>
                  <th>Componente Backend</th>
                  <th>Subtotal (COP)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>API REST biblioteca</td>
                  <td>$4,000,000</td>
                </tr>
                <tr>
                  <td>Sistema autenticación</td>
                  <td>$1,600,000</td>
                </tr>
                <tr>
                  <td>Gestión contenido multimedia</td>
                  <td>$2,400,000</td>
                </tr>
                <tr>
                  <td>Integración traductor</td>
                  <td>$1,200,000</td>
                </tr>
                <tr>
                  <td>Optimización performance</td>
                  <td>$800,000</td>
                </tr>
                <tr
                  style="background: #e74c3c; color: white; font-weight: bold"
                >
                  <td><strong>TOTAL BACKEND</strong></td>
                  <td><strong>$10,000,000</strong></td>
                </tr>
              </tbody>
            </table>
            <div
              style="
                background: white;
                border-radius: 10px;
                padding: 15px;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
              "
            >
              <canvas
                id="backendChart"
                style="height: 250px !important"
              ></canvas>
            </div>
          </div>
        </div>

        <!-- Base de Datos Detalle -->
        <div style="margin-bottom: 40px">
          <h3 style="color: #2ecc71; margin-bottom: 15px; font-size: 1.3rem">
            🗄️ Base de Datos y Arquitectura (11%)
          </h3>
          <div
            style="
              display: grid;
              grid-template-columns: 1fr 400px;
              gap: 20px;
              align-items: start;
            "
          >
            <table style="margin-bottom: 0">
              <thead>
                <tr>
                  <th>Componente BD/Arquitectura</th>
                  <th>Subtotal (COP)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Diseño BD biblioteca</td>
                  <td>$1,350,000</td>
                </tr>
                <tr>
                  <td>Implementación BD</td>
                  <td>$1,125,000</td>
                </tr>
                <tr>
                  <td>Optimización consultas</td>
                  <td>$675,000</td>
                </tr>
                <tr
                  style="background: #2ecc71; color: white; font-weight: bold"
                >
                  <td><strong>TOTAL BD/ARQUITECTURA</strong></td>
                  <td><strong>$3,150,000</strong></td>
                </tr>
              </tbody>
            </table>
            <div
              style="
                background: white;
                border-radius: 10px;
                padding: 15px;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
              "
            >
              <canvas
                id="databaseChart"
                style="height: 200px !important"
              ></canvas>
            </div>
          </div>
        </div>

        <!-- Testing Detalle -->
        <div style="margin-bottom: 40px">
          <h3 style="color: #f39c12; margin-bottom: 15px; font-size: 1.3rem">
            🧪 Testing y QA (10%)
          </h3>
          <div
            style="
              display: grid;
              grid-template-columns: 1fr 400px;
              gap: 20px;
              align-items: start;
            "
          >
            <table style="margin-bottom: 0">
              <thead>
                <tr>
                  <th>Componente Testing</th>
                  <th>Subtotal (COP)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Testing funcional</td>
                  <td>$1,200,000</td>
                </tr>
                <tr>
                  <td>Testing responsive</td>
                  <td>$750,000</td>
                </tr>
                <tr>
                  <td>Testing performance</td>
                  <td>$600,000</td>
                </tr>
                <tr>
                  <td>Testing seguridad</td>
                  <td>$450,000</td>
                </tr>
                <tr
                  style="background: #f39c12; color: white; font-weight: bold"
                >
                  <td><strong>TOTAL TESTING</strong></td>
                  <td><strong>$3,000,000</strong></td>
                </tr>
              </tbody>
            </table>
            <div
              style="
                background: white;
                border-radius: 10px;
                padding: 15px;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
              "
            >
              <canvas
                id="testingChart"
                style="height: 200px !important"
              ></canvas>
            </div>
          </div>
        </div>

        <!-- Raspberry Pi Detalle -->
        <div style="margin-bottom: 40px">
          <h3 style="color: #9b59b6; margin-bottom: 15px; font-size: 1.3rem">
            🖥️ Configuración Raspberry Pi (6%)
          </h3>
          <div
            style="
              display: grid;
              grid-template-columns: 1fr 400px;
              gap: 20px;
              align-items: start;
            "
          >
            <table style="margin-bottom: 0">
              <thead>
                <tr>
                  <th>Componente Raspberry Pi</th>
                  <th>Subtotal (COP)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Setup servidor local</td>
                  <td>$1,000,000</td>
                </tr>
                <tr>
                  <td>Configuración seguridad</td>
                  <td>$500,000</td>
                </tr>
                <tr>
                  <td>Documentación técnica</td>
                  <td>$400,000</td>
                </tr>
                <tr
                  style="background: #9b59b6; color: white; font-weight: bold"
                >
                  <td><strong>TOTAL RASPBERRY PI</strong></td>
                  <td><strong>$1,900,000</strong></td>
                </tr>
              </tbody>
            </table>
            <div
              style="
                background: white;
                border-radius: 10px;
                padding: 15px;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
              "
            >
              <canvas
                id="raspberryChart"
                style="height: 180px !important"
              ></canvas>
            </div>
          </div>
        </div>

        <!-- Kit Hardware Detalle -->
        <div style="margin-bottom: 40px">
          <h3 style="color: #1abc9c; margin-bottom: 15px; font-size: 1.3rem">
            🛠️ Kit Hardware Raspberry Pi (2%)
          </h3>
          <div
            style="
              display: grid;
              grid-template-columns: 1fr 400px;
              gap: 20px;
              align-items: start;
            "
          >
            <table style="margin-bottom: 0">
              <thead>
                <tr>
                  <th>Componente Hardware</th>
                  <th>Descripción</th>
                  <th>Precio (COP)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>Raspberry Pi 5 8GB RAM</strong></td>
                  <td>
                    Se requiere para la arquitectura del servidor local, esta
                    versión representa una mejora de rendimiento sustancial que
                    puede aportar solvencia en el contexto del proyecto
                  </td>
                  <td>$514,851</td>
                </tr>
                <tr>
                  <td><strong>Cargador Raspberry Pi</strong></td>
                  <td>
                    Se requiere, ya que por defecto la raspberry pi, no posee un
                    cargador
                  </td>
                  <td>$35,910</td>
                </tr>
                <tr>
                  <td><strong>Router Wifi (opcional)</strong></td>
                  <td>
                    Este es opcional, ya que de por si la raspberry pi ya tiene
                    un módulo wifi, pero el alcance es de como mucho 10mts,
                    entonces si se requiere más alcance, se recomienda entonces
                    este artículo
                  </td>
                  <td>$95,153</td>
                </tr>
                <tr
                  style="background: #1abc9c; color: white; font-weight: bold"
                >
                  <td><strong>TOTAL KIT HARDWARE</strong></td>
                  <td>-</td>
                  <td><strong>$645,914</strong></td>
                </tr>
              </tbody>
            </table>
            <div
              style="
                background: white;
                border-radius: 10px;
                padding: 15px;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
              "
            >
              <canvas
                id="hardwareChart"
                style="height: 180px !important"
              ></canvas>
            </div>
          </div>
        </div>

        <!-- Gráfica de Comparación de Todos los Componentes -->
        <div style="margin-top: 40px">
          <h3
            style="
              color: #2c3e50;
              margin-bottom: 20px;
              font-size: 1.3rem;
              text-align: center;
            "
          >
            📊 Comparación Detallada: Todos los Componentes
          </h3>
          <div
            style="
              background: white;
              border-radius: 10px;
              padding: 20px;
              box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            "
          >
            <canvas
              id="allComponentsChart"
              style="height: 400px !important"
            ></canvas>
          </div>
        </div>
      </div>

      <!-- Timeline -->
      <!-- <div class="timeline">
        <h2>🗓️ Cronograma de Desarrollo</h2>
        <div class="timeline-item">
          <div class="timeline-month">Mes 1</div>
          <div class="timeline-content">
            <div class="timeline-title">Arquitectura y Setup</div>
            <div class="timeline-desc">
              Análisis de requerimientos, diseño de arquitectura, setup del
              entorno y configuración inicial de Raspberry Pi
            </div>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-month">Mes 2-3</div>
          <div class="timeline-content">
            <div class="timeline-title">Desarrollo Core</div>
            <div class="timeline-desc">
              Biblioteca virtual básica, sistema multiidioma, backend principal
              y base de datos inicial
            </div>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-month">Mes 4-5</div>
          <div class="timeline-content">
            <div class="timeline-title">Funcionalidades Avanzadas</div>
            <div class="timeline-desc">
              Traductor de lenguaje de señas, biblia transmedia, plataforma de
              aprendizaje y optimización responsive
            </div>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-month">Mes 6</div>
          <div class="timeline-content">
            <div class="timeline-title">Testing e Integración</div>
            <div class="timeline-desc">
              Testing exhaustivo, integración final, configuración servidor y
              optimización de performance
            </div>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-month">Mes 7</div>
          <div class="timeline-content">
            <div class="timeline-title">Entrega Final</div>
            <div class="timeline-desc">
              Testing final, corrección de bugs, documentación completa y
              entrega con capacitación
            </div>
          </div>
        </div>
      </div> -->

      <!-- Características Técnicas -->
      <div class="table-section">
        <h2>🔧 Características Técnicas del Proyecto</h2>
        <table>
          <thead>
            <tr>
              <th>Componente</th>
              <th>Tecnología</th>
              <th>Descripción</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Frontend</strong></td>
              <td>React.js + TypeScript</td>
              <td>Interfaz moderna y responsive</td>
            </tr>
            <tr>
              <td><strong>Backend</strong></td>
              <td>Node.js + Express</td>
              <td>API REST escalable</td>
            </tr>
            <tr>
              <td><strong>Base de Datos</strong></td>
              <td>PostgreSQL + MongoDB</td>
              <td>Datos relacionales y multimedia</td>
            </tr>
            <tr>
              <td><strong>Traductor Señas</strong></td>
              <td>SignAll API</td>
              <td>Traducción automática ASL/LSC</td>
            </tr>
            <tr>
              <td><strong>Multiidioma</strong></td>
              <td>i18next</td>
              <td>Español e Inglés</td>
            </tr>
            <tr>
              <td><strong>Servidor Local</strong></td>
              <td>Raspberry Pi 4</td>
              <td>Ubuntu Server + Docker</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Footer -->
      <!-- <div class="footer">
        <h3>📞 Información de Contacto</h3>
        <p>
          Esta cotización es válida por 30 días y está sujeta a refinamiento
          tras reunión técnica detallada.
        </p>
        <p style="margin-top: 10px; font-weight: 600; color: #27ae60">
          Total del Proyecto: $30,035,914 COP | Duración: 7 meses
        </p>
      </div> -->
    </div>

    <script>
      // Esperar a que Chart.js se cargue completamente
      window.addEventListener("load", function () {
        console.log("Iniciando carga de gráficas...");

        // Verificar si Chart.js está disponible
        if (typeof Chart === "undefined") {
          console.error("Chart.js no se cargó correctamente");
          return;
        }

        // Datos del proyecto principal
        const projectData = {
          modules: [
            "Frontend",
            "Backend",
            "Base de Datos",
            "Testing & QA",
            "Raspberry Pi",
            "Kit Hardware",
          ],
          costs: [11340000, 10000000, 3150000, 3000000, 1900000, 645914],
          hours: [324, 250, 70, 100, 38, 0],
          percentages: [38, 33, 11, 10, 6, 2],
        };

        // Datos detallados por módulos
        const detailedData = {
          frontend: {
            labels: [
              "Interfaz biblioteca",
              "Sistema multiidioma",
              "Responsive design",
              "Traductor señas",
              "Plataforma aprendizaje",
            ],
            hours: [120, 80, 60, 40, 24],
            costs: [4200000, 2800000, 2100000, 1400000, 840000],
          },
          backend: {
            labels: [
              "API REST",
              "Autenticación",
              "Contenido multimedia",
              "Integración traductor",
              "Optimización performance",
            ],
            hours: [100, 40, 60, 30, 20],
            costs: [4000000, 1600000, 2400000, 1200000, 800000],
          },
          database: {
            labels: [
              "Diseño BD",
              "Implementación BD",
              "Optimización consultas",
            ],
            hours: [30, 25, 15],
            costs: [1350000, 1125000, 675000],
          },
          testing: {
            labels: [
              "Testing funcional",
              "Testing responsive",
              "Testing performance",
              "Testing seguridad",
            ],
            hours: [40, 25, 20, 15],
            costs: [1200000, 750000, 600000, 450000],
          },
          raspberry: {
            labels: [
              "Setup servidor",
              "Configuración seguridad",
              "Documentación técnica",
            ],
            hours: [20, 10, 8],
            costs: [1000000, 500000, 400000],
          },
          hardware: {
            labels: [
              "Raspberry Pi 5 8GB",
              "Cargador Raspberry Pi",
              "Router Wifi (opcional)",
            ],
            costs: [514851, 35910, 95153],
            descriptions: [
              "Servidor local con mejora de rendimiento sustancial",
              "Cargador requerido (no incluido por defecto)",
              "Amplía alcance wifi hasta >10mts (opcional)",
            ],
          },
        };

        // Todos los componentes para la gráfica final
        const allComponents = {
          labels: [
            "Interfaz biblioteca",
            "API REST",
            "Gestión multimedia",
            "Sistema multiidioma",
            "Responsive design",
            "Autenticación",
            "Diseño BD",
            "Traductor señas",
            "Testing funcional",
            "Integración traductor",
            "Implementación BD",
            "Setup servidor",
            "Plataforma aprendizaje",
            "Optimización performance",
            "Testing responsive",
            "Optimización consultas",
            "Testing performance",
            "Raspberry Pi 5 8GB",
            "Configuración seguridad",
            "Testing seguridad",
            "Router Wifi",
            "Documentación técnica",
            "Cargador Raspberry Pi",
          ],
          costs: [
            4200000, 4000000, 2400000, 2800000, 2100000, 1600000, 1350000,
            1400000, 1200000, 1200000, 1125000, 1000000, 840000, 800000, 750000,
            675000, 600000, 514851, 500000, 450000, 95153, 400000, 35910,
          ],
          colors: [
            "#3498db",
            "#e74c3c",
            "#e74c3c",
            "#3498db",
            "#3498db",
            "#e74c3c",
            "#2ecc71",
            "#3498db",
            "#f39c12",
            "#e74c3c",
            "#2ecc71",
            "#9b59b6",
            "#3498db",
            "#e74c3c",
            "#f39c12",
            "#2ecc71",
            "#f39c12",
            "#1abc9c",
            "#9b59b6",
            "#f39c12",
            "#1abc9c",
            "#9b59b6",
            "#1abc9c",
          ],
        };

        // Colores para las gráficas
        const colors = [
          "#3498db",
          "#e74c3c",
          "#2ecc71",
          "#f39c12",
          "#9b59b6",
          "#1abc9c",
        ];

        // 1. Gráfica de distribución de costos (Dona)
        try {
          const costCtx = document.getElementById("costChart");
          if (costCtx) {
            new Chart(costCtx, {
              type: "doughnut",
              data: {
                labels: projectData.modules,
                datasets: [
                  {
                    data: projectData.costs,
                    backgroundColor: colors,
                    borderColor: "#ffffff",
                    borderWidth: 3,
                    hoverOffset: 15,
                  },
                ],
              },
              options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                  legend: {
                    position: "bottom",
                    labels: {
                      padding: 20,
                      usePointStyle: true,
                      generateLabels: function (chart) {
                        const data = chart.data;
                        return data.labels.map((label, i) => {
                          const percentage = projectData.percentages[i];
                          return {
                            text: `${label}: ${percentage}%`,
                            fillStyle: colors[i],
                            strokeStyle: colors[i],
                            lineWidth: 2,
                            hidden: false,
                            index: i,
                          };
                        });
                      },
                    },
                  },
                  tooltip: {
                    callbacks: {
                      label: function (context) {
                        const value = context.raw;
                        const percentage =
                          projectData.percentages[context.dataIndex];
                        return `${context.label}: ${(value / 1000000).toFixed(
                          1
                        )}M (${percentage}%)`;
                      },
                    },
                  },
                },
              },
            });
            console.log("Gráfica de costos creada exitosamente");
          }
        } catch (error) {
          console.error("Error creando gráfica de costos:", error);
        }

        // 2. Gráfica de horas por módulo (Barras)
        try {
          const hoursCtx = document.getElementById("hoursChart");
          if (hoursCtx) {
            const hoursData = projectData.hours.filter((h) => h > 0);
            const hoursLabels = projectData.modules.filter(
              (_, i) => projectData.hours[i] > 0
            );

            new Chart(hoursCtx, {
              type: "bar",
              data: {
                labels: hoursLabels,
                datasets: [
                  {
                    label: "Horas de Desarrollo",
                    data: hoursData,
                    backgroundColor: colors.slice(0, 5),
                    borderColor: colors.slice(0, 5),
                    borderWidth: 2,
                    borderRadius: 8,
                    borderSkipped: false,
                  },
                ],
              },
              options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                  y: {
                    beginAtZero: true,
                    grid: {
                      color: "rgba(0,0,0,0.1)",
                    },
                    title: {
                      display: true,
                      text: "Horas",
                    },
                  },
                  x: {
                    grid: {
                      display: false,
                    },
                  },
                },
                plugins: {
                  legend: {
                    display: false,
                  },
                  tooltip: {
                    callbacks: {
                      label: function (context) {
                        return `${context.parsed.y} horas`;
                      },
                    },
                  },
                },
              },
            });
            console.log("Gráfica de horas creada exitosamente");
          }
        } catch (error) {
          console.error("Error creando gráfica de horas:", error);
        }

        // 3. Gráfica de comparación Costos vs Horas
        try {
          const comparisonCtx = document.getElementById("comparisonChart");
          if (comparisonCtx) {
            const filteredModules = projectData.modules.filter(
              (_, i) => projectData.hours[i] > 0
            );
            const filteredCosts = projectData.costs
              .slice(0, 5)
              .map((c) => c / 1000000);
            const filteredHours = projectData.hours.slice(0, 5);

            new Chart(comparisonCtx, {
              type: "line",
              data: {
                labels: filteredModules,
                datasets: [
                  {
                    label: "Costo (Millones COP)",
                    data: filteredCosts,
                    borderColor: "#e74c3c",
                    backgroundColor: "rgba(231, 76, 60, 0.1)",
                    tension: 0.4,
                    fill: true,
                    yAxisID: "y",
                  },
                  {
                    label: "Horas de Desarrollo",
                    data: filteredHours,
                    borderColor: "#3498db",
                    backgroundColor: "rgba(52, 152, 219, 0.1)",
                    tension: 0.4,
                    fill: true,
                    yAxisID: "y1",
                  },
                ],
              },
              options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                  mode: "index",
                  intersect: false,
                },
                scales: {
                  y: {
                    type: "linear",
                    display: true,
                    position: "left",
                    title: {
                      display: true,
                      text: "Costo (Millones COP)",
                    },
                  },
                  y1: {
                    type: "linear",
                    display: true,
                    position: "right",
                    title: {
                      display: true,
                      text: "Horas",
                    },
                    grid: {
                      drawOnChartArea: false,
                    },
                  },
                },
                plugins: {
                  legend: {
                    position: "bottom",
                  },
                },
              },
            });
            console.log("Gráfica de comparación creada exitosamente");
          }
        } catch (error) {
          console.error("Error creando gráfica de comparación:", error);
        }

        // 4. Gráfica detallada Frontend
        try {
          const frontendCtx = document.getElementById("frontendChart");
          if (frontendCtx) {
            new Chart(frontendCtx, {
              type: "bar",
              data: {
                labels: detailedData.frontend.labels,
                datasets: [
                  {
                    label: "Costo (Millones COP)",
                    data: detailedData.frontend.costs.map((c) => c / 1000000),
                    backgroundColor: "#3498db",
                    borderColor: "#3498db",
                    borderWidth: 2,
                    borderRadius: 6,
                  },
                ],
              },
              options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: "y",
                scales: {
                  x: {
                    beginAtZero: true,
                    title: { display: true, text: "Millones COP" },
                  },
                },
                plugins: {
                  legend: { display: false },
                  tooltip: {
                    callbacks: {
                      label: function (context) {
                        const hours =
                          detailedData.frontend.hours[context.dataIndex];
                        return `${context.parsed.x.toFixed(1)}M (${hours}h)`;
                      },
                    },
                  },
                },
              },
            });
          }
        } catch (error) {
          console.error("Error creando gráfica frontend:", error);
        }

        // 5. Gráfica detallada Backend
        try {
          const backendCtx = document.getElementById("backendChart");
          if (backendCtx) {
            new Chart(backendCtx, {
              type: "bar",
              data: {
                labels: detailedData.backend.labels,
                datasets: [
                  {
                    label: "Costo (Millones COP)",
                    data: detailedData.backend.costs.map((c) => c / 1000000),
                    backgroundColor: "#e74c3c",
                    borderColor: "#e74c3c",
                    borderWidth: 2,
                    borderRadius: 6,
                  },
                ],
              },
              options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: "y",
                scales: {
                  x: {
                    beginAtZero: true,
                    title: { display: true, text: "Millones COP" },
                  },
                },
                plugins: {
                  legend: { display: false },
                  tooltip: {
                    callbacks: {
                      label: function (context) {
                        const hours =
                          detailedData.backend.hours[context.dataIndex];
                        return `${context.parsed.x.toFixed(1)}M (${hours}h)`;
                      },
                    },
                  },
                },
              },
            });
          }
        } catch (error) {
          console.error("Error creando gráfica backend:", error);
        }

        // 6. Gráfica detallada Base de Datos
        try {
          const databaseCtx = document.getElementById("databaseChart");
          if (databaseCtx) {
            new Chart(databaseCtx, {
              type: "doughnut",
              data: {
                labels: detailedData.database.labels,
                datasets: [
                  {
                    data: detailedData.database.costs,
                    backgroundColor: ["#2ecc71", "#27ae60", "#1e8449"],
                    borderColor: "#ffffff",
                    borderWidth: 2,
                  },
                ],
              },
              options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                  legend: { position: "bottom" },
                  tooltip: {
                    callbacks: {
                      label: function (context) {
                        const hours =
                          detailedData.database.hours[context.dataIndex];
                        return `${context.label}: ${(
                          context.raw / 1000000
                        ).toFixed(1)}M (${hours}h)`;
                      },
                    },
                  },
                },
              },
            });
          }
        } catch (error) {
          console.error("Error creando gráfica database:", error);
        }

        // 7. Gráfica detallada Testing
        try {
          const testingCtx = document.getElementById("testingChart");
          if (testingCtx) {
            new Chart(testingCtx, {
              type: "doughnut",
              data: {
                labels: detailedData.testing.labels,
                datasets: [
                  {
                    data: detailedData.testing.costs,
                    backgroundColor: [
                      "#f39c12",
                      "#e67e22",
                      "#d68910",
                      "#b7950b",
                    ],
                    borderColor: "#ffffff",
                    borderWidth: 2,
                  },
                ],
              },
              options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                  legend: { position: "bottom" },
                  tooltip: {
                    callbacks: {
                      label: function (context) {
                        const hours =
                          detailedData.testing.hours[context.dataIndex];
                        return `${context.label}: ${(
                          context.raw / 1000000
                        ).toFixed(1)}M (${hours}h)`;
                      },
                    },
                  },
                },
              },
            });
          }
        } catch (error) {
          console.error("Error creando gráfica testing:", error);
        }

        // 8. Gráfica detallada Raspberry Pi
        try {
          const raspberryCtx = document.getElementById("raspberryChart");
          if (raspberryCtx) {
            new Chart(raspberryCtx, {
              type: "bar",
              data: {
                labels: detailedData.raspberry.labels,
                datasets: [
                  {
                    label: "Costo (Miles COP)",
                    data: detailedData.raspberry.costs.map((c) => c / 1000000),
                    backgroundColor: ["#9b59b6", "#8e44ad", "#7d3c98"],
                    borderColor: ["#9b59b6", "#8e44ad", "#7d3c98"],
                    borderWidth: 2,
                    borderRadius: 6,
                  },
                ],
              },
              options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                  y: {
                    beginAtZero: true,
                    title: { display: true, text: "Millones COP" },
                  },
                },
                plugins: {
                  legend: { display: false },
                  tooltip: {
                    callbacks: {
                      label: function (context) {
                        const hours =
                          detailedData.raspberry.hours[context.dataIndex];
                        return `${context.parsed.y.toFixed(1)}M (${hours}h)`;
                      },
                    },
                  },
                },
              },
            });
          }
        } catch (error) {
          console.error("Error creando gráfica raspberry:", error);
        }

        // 9. Gráfica detallada Kit Hardware
        try {
          const hardwareCtx = document.getElementById("hardwareChart");
          if (hardwareCtx) {
            new Chart(hardwareCtx, {
              type: "doughnut",
              data: {
                labels: detailedData.hardware.labels,
                datasets: [
                  {
                    data: detailedData.hardware.costs,
                    backgroundColor: ["#1abc9c", "#16a085", "#138d75"],
                    borderColor: "#ffffff",
                    borderWidth: 2,
                  },
                ],
              },
              options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                  legend: {
                    position: "bottom",
                    labels: {
                      font: { size: 10 },
                    },
                  },
                  tooltip: {
                    callbacks: {
                      label: function (context) {
                        const percentage = (
                          (context.raw / 645914) *
                          100
                        ).toFixed(1);
                        return `${
                          context.label
                        }: ${context.raw.toLocaleString()} (${percentage}%)`;
                      },
                    },
                  },
                },
              },
            });
          }
        } catch (error) {
          console.error("Error creando gráfica hardware:", error);
        }

        // 10. Gráfica de todos los componentes
        try {
          const allComponentsCtx =
            document.getElementById("allComponentsChart");
          if (allComponentsCtx) {
            new Chart(allComponentsCtx, {
              type: "bar",
              data: {
                labels: allComponents.labels,
                datasets: [
                  {
                    label: "Costo (Millones COP)",
                    data: allComponents.costs.map((c) => c / 1000000),
                    backgroundColor: allComponents.colors,
                    borderColor: allComponents.colors,
                    borderWidth: 1,
                    borderRadius: 4,
                  },
                ],
              },
              options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: "y",
                scales: {
                  x: {
                    beginAtZero: true,
                    title: { display: true, text: "Millones COP" },
                  },
                  y: {
                    ticks: {
                      font: { size: 10 },
                    },
                  },
                },
                plugins: {
                  legend: { display: false },
                  tooltip: {
                    callbacks: {
                      label: function (context) {
                        return `${context.label}: ${context.parsed.x.toFixed(
                          1
                        )}M COP`;
                      },
                    },
                  },
                },
              },
            });
          }
        } catch (error) {
          console.error(
            "Error creando gráfica de todos los componentes:",
            error
          );
        }

        console.log("Todas las gráficas han sido procesadas");
      });

      // Animaciones y efectos adicionales
      document.addEventListener("DOMContentLoaded", function () {
        // Animación de entrada para las cards
        const cards = document.querySelectorAll(".card");
        cards.forEach((card, index) => {
          card.style.opacity = "0";
          card.style.transform = "translateY(20px)";
          setTimeout(() => {
            card.style.transition = "all 0.6s ease";
            card.style.opacity = "1";
            card.style.transform = "translateY(0)";
          }, index * 100);
        });

        // Animación de entrada para elementos del timeline
        const timelineItems = document.querySelectorAll(".timeline-item");
        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.style.opacity = "1";
              entry.target.style.transform = "translateX(0)";
            }
          });
        });

        timelineItems.forEach((item, index) => {
          item.style.opacity = "0";
          item.style.transform = "translateX(-20px)";
          item.style.transition = `all 0.6s ease ${index * 0.1}s`;
          observer.observe(item);
        });
      });
    </script>
  </body>
</html>
